<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Image Tracking - AR.js Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">AR.js Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li class="active">
                                <a href="./">Image Tracking</a>
                            </li>
                            <li >
                                <a href="../location-based/">Location Based</a>
                            </li>
                            <li >
                                <a href="../marker-based/">Marker Based</a>
                            </li>
                            <li >
                                <a href="../ui-events/">UI and Events</a>
                            </li>
                            <li >
                                <a href="../about/">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="..">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../location-based/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#image-tracking">Image Tracking</a></li>
            <li><a href="#getting-started-with-image-tracking">Getting started with Image Tracking</a></li>
            <li><a href="#choose-good-images">Choose good images</a></li>
            <li><a href="#create-image-descriptors">Create Image Descriptors</a></li>
            <li><a href="#render-the-content">Render the content</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="image-tracking">Image Tracking</h1>
<p>Image Tracking makes possible to scan a picture, a drawing, any image, and show content over it.</p>
<p>All the following examples are with A-Frame, for semplicity. You can use three.js if you want. See on the official repository the <a href="https://github.com/AR-js-org/AR.js/blob/master/three.js/examples/nft.html">nft three.js example</a>.</p>
<p>All A-Frame examples for Image Tracking can be found <a href="https://github.com/AR-js-org/AR.js/tree/master/aframe/examples/image-tracking/">here</a>.</p>
<h2 id="getting-started-with-image-tracking">Getting started with Image Tracking</h2>
<p>Natural Feature Tracking or NFT is a technology that enables the use of images instead of markers like QR Codes or the Hiro marker.</p>
<p>The software tracks interesting points in the image and using them, it estimates the position of the camera. These interesting points (aka "Image Descriptors") are created using the <code>NFT Marker Creator</code>, a tool available for creating NFT markers. It comes in two versions: the <a href="https://carnaux.github.io/NFT-Marker-Creator/">Web version</a>(recommended), and the <a href="https://github.com/Carnaux/NFT-Marker-Creator">node.js version</a>. There is also a fork of this project on the AR.js Github organisation, but as for now, <a href="https://twitter.com/DanielCarnaux">Daniel Fernandes</a> version works perfectly.</p>
<p><em>Thanks to <a href="https://twitter.com/DanielCarnaux">Daniel Fernandes</a> for contribution on this docs section.</em></p>
<h2 id="choose-good-images">Choose good images</h2>
<p>If you want to understand the creation of markers in more depth, check out the  NFT Marker Creator <a href="https://github.com/Carnaux/NFT-Marker-Creator/wiki/Creating-good-markers">wiki</a>. It explains also why certain images work way better than others. An important factor is the DPI of the image: a good dpi (300 or more) will give a very good stabilization, while low DPI (like 72) will require the user to stay very still and close to the image, otherwise tracking will lag.</p>
<h2 id="create-image-descriptors">Create Image Descriptors</h2>
<p>Once you have chosen your image, you can either use the NFT Marker Creator in its <a href="https://carnaux.github.io/NFT-Marker-Creator/">Web version</a> or the node version.</p>
<p>If you're using the node version, this is the basic command to run:</p>
<pre><code class="bash">node app.js -i &lt;path-to-the-img/image-name.jpg/png&gt;
</code></pre>

<p>After that, you will find the Image Descriptors files on the <code>output</code> folder. In the web version, the generator will automatically download the files from your browser.</p>
<p>In either cases, you will end up with three files as Image Descriptors, with <code>.fset</code>, <code>.fset3</code>, <code>.iset</code>.
Each of them will have the same prefix before the file extension. That one will be the Image Descriptor name that you will use on the AR.js web app.
For example: with files <code>trex.fset</code>, <code>trex.fset3</code> and <code>trex.iset</code>, your Image Descriptors name will be <code>trex</code>.</p>
<h2 id="render-the-content">Render the content</h2>
<p>Now it's time to create the actual AR web app.</p>
<pre><code class="html">&lt;!-- import aframe and then ar.js with image tracking / location based features --&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js&quot;&gt;&lt;/script&gt;

&lt;!-- style for the loader --&gt;
&lt;style&gt;
  .arjs-loader {
    height: 100%;
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .arjs-loader div {
    text-align: center;
    font-size: 1.25em;
    color: white;
  }
&lt;/style&gt;

&lt;body style=&quot;margin : 0px; overflow: hidden;&quot;&gt;
  &lt;!-- minimal loader shown until image descriptors are loaded. Loading may take a while according to the device computational power --&gt;
  &lt;div class=&quot;arjs-loader&quot;&gt;
    &lt;div&gt;Loading, please wait...&lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- a-frame scene --&gt;
  &lt;a-scene
    vr-mode-ui=&quot;enabled: false;&quot;
    renderer=&quot;logarithmicDepthBuffer: true;&quot;
    embedded
    arjs=&quot;trackingMethod: best; sourceType: webcam;debugUIEnabled: false;&quot;
  &gt;
    &lt;!-- a-nft is the anchor that defines an Image Tracking entity --&gt;
    &lt;!-- on 'url' use the path to the Image Descriptors created before. --&gt;
    &lt;!-- the path should end with the name without the extension e.g. if file is 'pinball.fset' the path should end with 'pinball' --&gt;
    &lt;a-nft
      type=&quot;nft&quot;
      url=&quot;&lt;path-to-your-image-descriptors&gt;&quot;
      smooth=&quot;true&quot;
      smoothCount=&quot;10&quot;
      smoothTolerance=&quot;.01&quot;
      smoothThreshold=&quot;5&quot;
    &gt;
        &lt;!-- as a child of the a-nft entity, you can define the content to show. here's a GLTF model entity --&gt;
        &lt;a-entity
            gltf-model=&quot;&lt;path-to-your-model&gt;&quot;
            scale=&quot;5 5 5&quot;
            position=&quot;50 150 0&quot;
        &gt;
        &lt;/a-entity&gt;
    &lt;/a-nft&gt;
    &lt;!-- static camera that moves according to the device movemenents --&gt;
    &lt;a-entity camera&gt;&lt;/a-entity&gt;
  &lt;/a-scene&gt;
&lt;/body&gt;
</code></pre>

<p>See on the comments above, inline on the code, for explanations.</p>
<p>You can refer to <a href="https://aframe.io/docs/1.0.0/introduction/">A-Frame docs</a> to know everything about content and customization. You can add geometries, 3D models, videos, images. And you can customize their position, scale, rotation and so on.</p>
<p>The only custom component here is the <code>a-nft</code>, the Image Tracking HTML anchor.</p>
<h3 id="lta-nftgt"><code>&lt;a-nft\&gt;</code></h3>
<p>Here are the attributes for this entity</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Component Mapping</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>type of marker - ['nft' only valid value]</td>
<td>artoolkitmarker.type</td>
</tr>
<tr>
<td>url</td>
<td>url of the Image Descriptors, without extension</td>
<td>artoolkitmarker.descriptorsUrl</td>
</tr>
<tr>
<td>emitevents</td>
<td>emits 'markerFound' and 'markerLost' events - ['true', 'false']</td>
<td>-</td>
</tr>
<tr>
<td>smooth</td>
<td>turn on/off camera smoothing - ['true', 'false'] - default: false</td>
<td>-</td>
</tr>
<tr>
<td>smoothCount</td>
<td>number of matrices to smooth tracking over, more = smoother but slower follow - default: 5</td>
<td>-</td>
</tr>
<tr>
<td>smoothTolerance</td>
<td>distance tolerance for smoothing, if smoothThreshold # of matrices are under tolerance, tracking will stay still - default: 0.01</td>
<td>-</td>
</tr>
<tr>
<td>smoothThreshold</td>
<td>threshold for smoothing, will keep still unless enough matrices are over tolerance - default: 2</td>
<td>-</td>
</tr>
<tr>
<td>size</td>
<td>size of the marker in meter</td>
<td>artoolkitmarker.size</td>
</tr>
</tbody>
</table>
<p>⚡️ It is suggested to use <code>smooth</code>, <code>smoothCount</code> and <code>smoothTolerance</code> because of weak stabilization of content in Image Tracking. Thanks to smoothing, content is way more stable, from 3D models to 2D videos.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
