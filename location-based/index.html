<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Location Based - AR.js Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">AR.js Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li >
                                <a href="../image-tracking/">Image Tracking</a>
                            </li>
                            <li class="active">
                                <a href="./">Location Based</a>
                            </li>
                            <li >
                                <a href="../marker-based/">Marker Based</a>
                            </li>
                            <li >
                                <a href="../ui-events/">UI and Events</a>
                            </li>
                            <li >
                                <a href="../about/">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../image-tracking/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../marker-based/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#location-based">Location Based</a></li>
            <li><a href="#gps-camera">gps-camera</a></li>
            <li><a href="#properties">Properties</a></li>
            <li><a href="#gps-entity-place">gps-entity-place</a></li>
            <li><a href="#properties_1">Properties</a></li>
            <li><a href="#custom-attributes">Custom Attributes</a></li>
            <li><a href="#events">Events</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="location-based">Location Based</h1>
<p>Location Based has been implemented only for A-Frame framework.</p>
<p><a href="https://medium.com/chialab-open-source/build-your-location-based-augmented-reality-web-app-c2442e716564">This article </a> gives you a first glance to Location Based on AR.js.
It can be used for indoor (but with low precision) and outdoor geopositioning of AR content.</p>
<p>You can load places statically, from HTML or from Javascript, or you can load your data from local/remote json, or even through API calls. Choice is yours. On the article above there are all the options explained, as tutorials.</p>
<p>Following there's the API Reference.</p>
<h3 id="gps-camera"><code>gps-camera</code></h3>
<p><strong>Required</strong>: yes</p>
<p><strong>Max allowed per scene</strong>: 1</p>
<p>This component enables the Location AR. It has to be added to the <code>camera</code> entity.
It makes possible to handle both position and rotation of the camera and it's used to determine where the user is pointing their device.</p>
<p>For example:</p>
<pre><code class="HTML">&lt;a-camera gps-camera rotation-reader&gt;&lt;/a-camera&gt;
</code></pre>

<p>In addition to that, as you can see on the example above, we also have to add <code>rotation-reader</code> to handle rotation events. See <a href="https://aframe.io/docs/0.9.0/components/camera.html#reading-position-or-rotation-of-the-camera">here</a> for more details.</p>
<h3 id="properties">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>alert</td>
<td>Whether to show a message when GPS signal is under the <code>positionMinAccuracy</code></td>
<td>false</td>
</tr>
<tr>
<td>positionMinAccuracy</td>
<td>Minimum accuracy allowed for position signal</td>
<td>100</td>
</tr>
<tr>
<td>minDistance</td>
<td>If set, places with a distance from the user lower than this value, are not showed. Only a positive value is allowed. Value is in meters.</td>
<td>0 (disabled)</td>
</tr>
<tr>
<td>maxDistance</td>
<td>If set, places with a distance from the user higher than this value, are not showed. Only a positive value is allowed. Value is in meters.</td>
<td>0 (disabled)</td>
</tr>
<tr>
<td>simulateLatitude</td>
<td>Setting this allows you to simulate the latitude of the camera, to aid in testing.</td>
<td>0 (disabled)</td>
</tr>
<tr>
<td>simulateLongitude</td>
<td>Setting this allows you to simulate the longitude of the camera, to aid in testing.</td>
<td>0 (disabled)</td>
</tr>
<tr>
<td>simulateAltitude</td>
<td>Setting this allows you to simulate the altitude of the camera in meters above sea level, to aid in testing.</td>
<td>0 (disabled)</td>
</tr>
</tbody>
</table>
<h3 id="gps-entity-place"><code>gps-entity-place</code></h3>
<p><strong>Required</strong>: yes</p>
<p><strong>Max allowed per scene</strong>: no limit</p>
<p>This component makes each entity GPS-trackable. This assigns a specific world position to an entity, so that the user can see it when their device is pointing to its position in the real world. If the user is far from the entity, it will seem smaller. If it's too far away, it won't be seen at all.</p>
<p>It requires latitude and longitude as a single string parameter (example with <code>a-box</code> aframe primitive):</p>
<pre><code class="HTML">&lt;a-box color=&quot;yellow&quot; gps-entity-place=&quot;latitude: &lt;your-latitude&gt;; longitude: &lt;your-longitude&gt;&quot;/&gt;
</code></pre>

<p>⚡️ In addition, you can use the a-frame "position" parameter to assign a y-value to change the height of the content.
This value should be entered as meters above or below (if negative) the current camera height. For example, this would assign a height of 30 meters, and will be displayed relative to the gps-camera's current height:</p>
<pre><code class="HTML">&lt;a-box color=&quot;yellow&quot; gps-entity-place=&quot;latitude: &lt;your-latitude&gt;; longitude: &lt;your-longitude&gt;&quot; position=&quot;0 30 0&quot;/&gt;
</code></pre>

<h3 id="properties_1">Properties</h3>
<p>No real property apart from the string that defined latitude and longitude together, as shown above.</p>
<h3 id="custom-attributes">Custom Attributes</h3>
<p>The following are Custom Attributes that can be retrieved from <code>gps-entity-place</code> entities, for example:</p>
<pre><code class="js">const distanceMsg = document.querySelector('[gps-entity-place]').getAttribute('distanceMsg');
console.log(distanceMsg);   // &quot;890 meters&quot;
</code></pre>

<table>
<thead>
<tr>
<th>Custom Attribute</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>distance</td>
<td>Distance from user, updated at every user position update. Value in meters.</td>
<td>0</td>
</tr>
<tr>
<td>distanceMsg</td>
<td>Distance from user as string, with unit, updated at every user position update. Value as <code>&lt;distance&gt; meters/kilometers</code>.</td>
<td>''</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="events">Events</h3>
<p>Take a look at the <a href="../ui-events/">UI and Events</a> page for Location Based Custom Events.</p>
<hr />
<p>⚡️ Usually, in Location Based, it's nice to have the augmented content that will always face the user, so when you rotate the camera, 3D models or most of all, text, are well visible.</p>
<p>Look at <a href="https://github.com/AR-js-org/AR.js/tree/master/aframe/examples/location-based/always-face-user">this example</a> in order to create <code>gps-entity-place</code> entities that will always face the user (camera).</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
